<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>과제</title>
</head>

<body>
    <button type="button" onclick="game(0)"><img src="/image/math_img_1.jpg" alt=""></button>
    <button type="button" onclick="game(1)"><img src="/image/math_img_2.jpg" alt=""></button>
    <button type="button" onclick="game(2)"><img src="/image/math_img_3.jpg" alt=""></button>
    <h3 id="result">
        
    </h3>

    <script>
        let playerState = 0;   // 상태에 대한 숫자 표현
        let playerStateChar = '';  // 상태에 대한 문자 표현
        let comState = 0;
        let comStateChar = '';  // 상태에 대한 문자 표현
        let win = 0;
        let draw = 0;
        let lose = 0;
        let vic='';


        // 유저값
        function play(num) {
            if (num == 0) {
                playerState = 0;
                playerStateChar = '가위';
            } else if (num == 1) {
                playerState = 1;
                playerStateChar = '바위';
            } else if (num == 2) {
                playerState = 2;
                playerStateChar = '보';
            }


        }

        // 컴퓨터의 값 생성
        function comPlay() {
            comState = Math.floor(Math.random() * 3);
            if (comState == 0) {
                comStateChar = '가위';
            } else if (comState == 1) {
                comStateChar = '바위';
            } else if (comState == 2) {
                comStateChar = '보';
            }

        }

       

        // 승패
        // 전적
        function score() {
            switch (comState) {
                case 0:  // 가위
                    playerState == 0 ? (draw++,vic='무승부') : playerState == 1 ? (win++,vic='승리') : (lose++,vic='패배');
                    break;
                case 1:  // 바위
                    playerState == 0 ? (lose++,vic='패배') : playerState == 1 ? (draw++,vic='무승부') : (win++,vic='승리');
                    break;
                case 2:  // 보
                    playerState == 0 ? (win++,vic='승리') : playerState == 1 ? (lose++,vic='패배') : (draw++,vic='무승부');
                    break;

            }
        }


        // 승률 계산
        // 승률 : (이긴 횟수 / 전체 경기 수)*100
        
        // 출력
        function game(num) {
            play(num);
            comPlay();
            score();

            document.getElementById('result').innerHTML = 
            `나 : ${playerStateChar} <br>
            컴퓨터 : ${comStateChar} <br>
            <span style="color:red">${vic}</span> <br>
            현재 전적 <br>
            승 : ${win} <br>
            무 : ${draw} <br>
            패 : ${lose} <br>
            승률 : ${((win / (win+lose)) * 100).toFixed(2)}%`;


        }
        // function print(str) {
        //     document.getElementById('result').innerHTML = str;
        //     let result = `나 : ${playerStateChar}`
        //     print(result);
        // }


    </script>
</body>

</html>